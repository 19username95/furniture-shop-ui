(this["webpackJsonpfurniture-shop"]=this["webpackJsonpfurniture-shop"]||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){},106:function(e,t,a){},107:function(e,t,a){},108:function(e,t,a){},109:function(e,t,a){},110:function(e,t,a){},111:function(e,t,a){},112:function(e,t,a){},113:function(e,t,a){},114:function(e,t,a){},117:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),r=a(28),i=a.n(r),o=(a(64),a(6)),l=a(7),u=a(49),d=a(12),j=a(20),m=a.n(j),b="https://morgan-shop.herokuapp.com",O=(a(85),a(27)),p=a(4),g=a(51),h=a(53),v=a(58),x=a(54),f=a.n(x);function N(){var e=Object(h.a)(["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"]);return N=function(){return e},e}var C=Object(v.a)(N()),y=function(){return Object(c.jsx)("div",{style:{position:"absolute",width:"100vw",height:"100vh",background:"white",zIndex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:Object(c.jsx)(f.a,{css:C,size:150,color:"#123abc",loading:!0})})},w=a(16),I=a.n(w),P=a(21),S="FETCH_CATEGORIES",k="CATEGORIES_FETCHED",L=function(e){return{type:k,payload:{categories:e}}},E=function(){return function(){var e=Object(P.a)(I.a.mark((function e(t){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:S}),e.prev=1,e.next=4,m.a.get("/categories");case 4:a=e.sent,c=a.data.categories,t(L(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error("Fetch categories error:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()};a(93);var T=a.p+"static/media/logo.8b4ddaea.svg",A=a.p+"static/media/ic_search.b843e723.svg",B=a.p+"static/media/ic_profile.7d0c63c8.svg",R=a.p+"static/media/ic_cart.e0c4faad.svg";var _=Object(d.b)((function(e){return{categories:Object(O.a)(e.categories.list).sort((function(e,t){return e.menuOrder-t.menuOrder})),categoriesLoading:e.categories.loading,cartItems:Object.values(e.cart.items)}}),(function(e){return{fetchCategories:function(){return e(E())}}}))((function(e){var t=e.categories,a=e.cartItems,s=e.fetchCategories,r=e.categoriesLoading,i=Object(n.useState)(0),l=Object(p.a)(i,2),u=l[0],d=l[1],j=Object(n.useState)(!1),m=Object(p.a)(j,2),b=m[0],O=m[1],h=Object(n.useState)(!1),v=Object(p.a)(h,2),x=v[0],f=v[1],N=Object(n.useState)(!0),C=Object(p.a)(N,2),w=C[0],I=C[1],P=function(){window.innerWidth<1024?I(!1):(I(!0),f(!1))};return function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,c=Object(n.useRef)();Object(n.useEffect)((function(){c.current=t}),[t]),Object(n.useEffect)((function(){if(a&&a.addEventListener){var t=function(e){return c.current(e)};return a.addEventListener(e,t),function(){a.removeEventListener(e,t)}}}),[e,a])}("resize",P),Object(n.useEffect)(P,[]),Object(n.useEffect)((function(){t.length||r||s(),d(a.reduce((function(e,t){return e+t.count}),0))}),[a]),Object(n.useEffect)((function(){I(window.innerWidth>1023)}),[]),t&&t.length?Object(c.jsxs)("div",{className:"Navigation",children:[Object(c.jsx)("div",{className:"Navigation-Components",children:Object(c.jsxs)("div",{className:"Navigation-Container",children:[Object(c.jsx)("div",{className:"Navigation-BurgerContainer",children:Object(c.jsx)(g.a,{buttonColor:"transparent",barColor:"#121212",toggleButton:function(){return f(!x)},isActive:x,className:"Navigation-BurgerButton",buttonWidth:"18"})}),Object(c.jsx)(o.c,{className:"Navigation-LogoLink",to:"/",exact:!0,children:Object(c.jsx)("img",{className:"Navigation-Logo",alt:"morgan",src:T,draggable:!1})}),x||w?Object(c.jsxs)("ul",{className:"Navigation-List Navigation-CategoriesList",children:[x&&!w?Object(c.jsx)("div",{className:"Navigation-ProductsTitle",children:"Products"}):null,t.map((function(e){return Object(c.jsx)("li",{className:"Navigation-ListItem",children:Object(c.jsx)(o.c,{className:"Navigation-Link",onClick:function(){f(!1)},to:"/goods/".concat(e.alias),activeClassName:"Navigation-Link_Active",exact:!0,children:e.title})},e.id)}))]}):null,Object(c.jsxs)("ul",{className:"Navigation-List Navigation-MobileList",children:[x||w?Object(c.jsx)("li",{className:"Navigation-ListItem Navigation-ListItemSearch",children:Object(c.jsx)(o.c,{className:"Navigation-Link",to:"/search",activeClassName:"Navigation-Link_Active",exact:!0,children:Object(c.jsx)("img",{src:A,alt:"Search",draggable:!1,className:"Navigation-LinkIcon"})})}):null,!x||w?Object(c.jsx)("li",{className:"Navigation-ListItem",children:Object(c.jsx)(o.c,{className:"Navigation-Link",to:"/login",activeClassName:"Navigation-Link_Active",exact:!0,children:Object(c.jsx)("img",{src:B,alt:"Profile",draggable:!1})})}):null,!x||w?Object(c.jsx)("li",{className:"Navigation-ListItem",children:Object(c.jsxs)(o.c,{className:"Navigation-Link",to:"/cart",activeClassName:"Navigation-Link_Active",exact:!0,children:[Object(c.jsx)("img",{src:R,alt:"Cart",draggable:!1,onMouseEnter:u>0?function(){return O(!0)}:null}),Object(c.jsx)("div",{className:"Navigation-CartCount",children:u||"0"})]})}):null]})]})}),b?Object(c.jsx)("div",{className:"Navigation-CartPopUpContainer",children:Object(c.jsx)(Ce,{items:a,onMouseLeave:function(){return O(!1)}})}):null]}):Object(c.jsx)(y,{})}));a(95);a(96);a(97);a(98);a(99);var D=a(2),F=a(55),U=a.n(F),M={email:new RegExp("^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$"),password:new RegExp("^(?=.*[A-Za-z])(?=.*\\d)[A-Za-z\\d]{6,}$"),fullName:new RegExp("(?=^.{0,40}$)^[a-zA-Z-]+\\s[a-zA-Z-]+$")},Q={email:"Please make sure your email format is correct",password:"Please enter min 6 char and has at least one letter and one number",fullName:"Please enter your full name"},W=function(e,t){return t&&t.length?M[e].test(t)?{ok:!0}:{ok:!1,message:Q[e]}:{ok:!1,message:"".concat(U.a.startCase(e)," should not be empty")}},H=(a(101),a(17),a.p+"static/media/ic_eye.8e2a95b0.svg"),V=a.p+"static/media/ic_eye_slash.bbcf58dd.svg";var z=a.p+"static/media/ic_google.1fcb7b68.svg",Y=a.p+"static/media/ic_facebook.3675488b.svg";a(102);a(103);a(104);var Z=a.p+"static/media/paper_bird.73d95445.svg";a(105);var G=function(e){return"\xa3"+(+e).toFixed(2)};a(106);var $=a.p+"static/media/ic_minus.61942494.svg",K=a.p+"static/media/ic_plus.3417bbc1.svg",J=a.p+"static/media/ic_close.b8dc84ef.svg";a(107);a(108);var q=function(e){var t=e.items,a=e.onMouseLeave;return Object(c.jsxs)("div",{className:"CartPopUp",onMouseLeave:a,children:[Object(c.jsx)("div",{className:"CartPopUp-ProductsContainer",children:t.map((function(e){var t=e.product,a=e.count;return Object(c.jsxs)("div",{className:"CartPopUp-ProductContainer",children:[Object(c.jsx)("div",{className:"CartPopUp-ProductImageContainer",children:Object(c.jsx)("img",{className:"CartPopUp-ProductImage",src:b+t.image,alt:"",draggable:!1})}),Object(c.jsxs)("div",{className:"CartPopUp-ProductInfo",children:[Object(c.jsx)("div",{className:"CartPopUp-ProductName",children:t.name}),Object(c.jsxs)("div",{className:"CartPopUp-ProductDetails",children:[Object(c.jsxs)("span",{className:"CartPopUp-ProductCount",children:[a," x "]}),Object(c.jsx)("span",{className:"CartPopUp-ProductPrice",children:G(t.price)})]})]})]},t.id)}))}),Object(c.jsx)("div",{className:"CartPopUp-ButtonContainer",children:Object(c.jsx)(Oe,{className:"CartPopUp-Button",title:"go to checkout",link:"/cart"})})]})},X=(a(109),a.p+"static/media/ic_add.2a40c51a.svg"),ee=a.p+"static/media/ic_remove_dark.bea75c61.svg",te="ADD_TO_CART",ae="CLEAN_CART",ce="REMOVE_ITEM",ne=function(e){return{type:ce,payload:{productId:e}}},se="INCREASE_QUANTITY",re="REDUCE_QUANTITY";var ie=Object(d.b)((function(e,t){return{isInCart:!!e.cart.items[t.product.id]}}),(function(e){return{addToCart:function(t){return e(function(e){return{type:te,payload:{product:e}}}(t))},removeItem:function(t){return e(ne(t))}}}))((function(e){var t=e.product,a=e.addToCart,n=e.removeItem,s=e.isInCart;return Object(c.jsxs)("div",{className:"Product",children:[Object(c.jsx)("img",{className:"Product-Image",alt:"",src:b+t.image,draggable:!1}),Object(c.jsx)("button",{className:"Product-Button",onClick:function(){return function(e){s?n(e.id):a(e)}(t)},children:Object(c.jsx)("img",{alt:"",src:s?ee:X,draggable:!1})}),Object(c.jsxs)("div",{className:"Product-Info",children:[Object(c.jsx)("div",{className:"Product-Name",children:t.name}),Object(c.jsx)("div",{className:"Product-Price",children:G(t.price)})]})]})})),oe=(a(110),a.p+"static/media/ic_arrow.882d8bc5.svg"),le=a.p+"static/media/ic_checkmark.bf514abb.svg";var ue=_,de=function(e){var t=e.title,a=e.onClick;return Object(c.jsx)("button",{className:"WhiteButton",onClick:a,children:t})},je=function(e){return Object(c.jsx)("div",{className:"Title",children:e.children})},me=function(e){var t=e.label,a=e.labelHint,n=e.link,s=e.linkText,r=e.placeholder,i=e.type,l=void 0===i?"text":i,u=e.value,d=e.onChange,j=e.onFocusOut,m=e.error,b=e.icon,O=e.onIconClick;return Object(c.jsxs)("div",{className:"CustomInput",children:[Object(c.jsxs)("div",{className:"CustomInput-Header",children:[Object(c.jsxs)("div",{className:"CustomInput-Label",children:[t,Object(c.jsxs)("span",{className:"CustomInput-LabelHint",children:[" ",a]})]}),n?Object(c.jsx)(o.c,{className:"CustomInput-Link",to:n,children:s}):null]}),Object(c.jsxs)("div",{className:"CustomInput-Container",children:[Object(c.jsx)("input",{className:m?"CustomInput-Field CustomInput-Field_error":"CustomInput-Field",type:l,placeholder:r,value:u,onChange:d,onBlur:j}),b?Object(c.jsx)("img",{className:"CustomInput-Icon",alt:"",src:b,draggable:!1,onClick:O}):null]}),m?Object(c.jsx)("div",{className:"CustomInput-Error",children:m}):null]})},be=y,Oe=function(e){var t=e.title,a=e.link,n=e.onClick;return a?Object(c.jsx)(o.c,{to:a,children:Object(c.jsx)("button",{className:"BlackButton",children:t})}):Object(c.jsx)("button",{className:"BlackButton",onClick:n,children:t})},pe=function(e){var t=e.goToSignUp,a=Object(l.f)(),s=Object(n.useState)(""),r=Object(p.a)(s,2),i=r[0],o=r[1],u=Object(n.useState)(""),d=Object(p.a)(u,2),j=d[0],m=d[1],b=Object(n.useState)({}),O=Object(p.a)(b,2),g=O[0],h=O[1],v=Object(n.useState)(!1),x=Object(p.a)(v,2),f=x[0],N=x[1];return Object(c.jsx)("div",{className:"LoginComponent",children:Object(c.jsxs)("div",{className:"LoginComponent-Container Container",children:[Object(c.jsx)(je,{children:"login"}),Object(c.jsxs)("form",{className:"LoginComponent-Form",children:[Object(c.jsx)("div",{className:"LoginComponent-FormInput",children:Object(c.jsx)(me,{label:"Email",placeholder:"Enter your email",value:i,onChange:function(e){o(e.target.value)},error:g.email,onFocusOut:function(e){var t=W("email",e.target.value);h(Object(D.a)(Object(D.a)({},g),{},{email:t.message}))}})}),Object(c.jsx)("div",{className:"LoginComponent-FormInput",children:Object(c.jsx)(me,{label:"Password",type:f?"text":"password",placeholder:"Enter your password",link:"/reset-password",linkText:"Forgotten your password?",value:j,onChange:function(e){m(e.target.value)},error:g.password,onFocusOut:function(e){var t=W("password",e.target.value);h(Object(D.a)(Object(D.a)({},g),{},{password:t.message}))},icon:f?V:H,onIconClick:function(){return N(!f)}})})]}),Object(c.jsx)("div",{className:"LoginComponent-LoginButtonWrapper",children:Object(c.jsx)(Oe,{title:"login",onClick:function(){var e=W("email",i),t=W("password",j);return e.ok&&t.ok?a.push("/"):h({email:e.message,password:t.message})}})}),Object(c.jsxs)("div",{className:"LoginComponent-CreateAccount",children:[Object(c.jsx)("div",{className:"LoginComponent-CreateAccountTitle",children:"Don't have an account?"}),Object(c.jsx)("div",{className:"LoginComponent-CreateAccountLink",onClick:t,children:"Create an account"})]}),Object(c.jsx)("div",{className:"LoginComponent-SocialButtonsWrapper",children:Object(c.jsx)(ge,{className:"LoginComponent-SocialButtons"})})]})})},ge=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"Separator",children:"or"}),Object(c.jsxs)("div",{className:"ThirdPartyLoginButtons",children:[Object(c.jsxs)("button",{className:"ThirdPartyLoginButtons-Button",children:[Object(c.jsx)("img",{className:"ThirdPartyLoginButtons-ButtonImage",alt:"G",src:z,draggable:!1}),Object(c.jsx)("span",{className:"ThirdPartyLoginButtons-ButtonText",children:"With Google"})]}),Object(c.jsxs)("button",{className:"ThirdPartyLoginButtons-Button",children:[Object(c.jsx)("img",{className:"ThirdPartyLoginButtons-ButtonImage",alt:"f",src:Y,draggable:!1}),Object(c.jsx)("span",{className:"ThirdPartyLoginButtons-ButtonText",children:"With Facebook"})]})]})]})},he=function(e){var t=e.onSubmit,a=Object(n.useState)(""),s=Object(p.a)(a,2),r=s[0],i=s[1],l=Object(n.useState)({}),u=Object(p.a)(l,2),d=u[0],j=u[1];return Object(c.jsx)("div",{className:"ResetPasswordWrapper",children:Object(c.jsxs)("div",{className:"ResetPassword Container",children:[Object(c.jsx)(je,{children:"RESET YOUR PASSWORD"}),Object(c.jsxs)("div",{className:"ResetPassword-Container",children:[Object(c.jsx)("p",{className:"ResetPassword-Text",children:"Enter the email address for your Morgan account and we\u2019ll send a single-use password reset link."}),Object(c.jsx)("p",{className:"ResetPassword-Text",children:"This link will expire after 24 hours."}),Object(c.jsx)("div",{className:"ResetPassword-InputContainer",children:Object(c.jsx)(me,{className:"ResetPassword-Input",label:"Email",placeholder:"Enter your email",onChange:function(e){i(e.target.value)},error:d.email,onFocusOut:function(e){var t=W("email",e.target.value);j(Object(D.a)(Object(D.a)({},d),{},{email:t.message}))}})}),Object(c.jsx)("div",{className:"ResetPassword-ButtonContainer",children:Object(c.jsx)(Oe,{title:"send a password reset link",onClick:function(){var e=W("email",r);return e.ok?t(r):j({email:e.message})}})}),Object(c.jsx)("div",{className:"ResetPassword-LinkContainer",children:Object(c.jsx)(o.c,{className:"ResetPassword-LoginLink",to:"/login",children:"Back to login"})})]})]})})},ve=function(e){var t=e.email;return Object(c.jsx)("div",{className:"ResetPasswordSuccessWrapper",children:Object(c.jsxs)("div",{className:"ResetPasswordSuccess Container",children:[Object(c.jsx)(je,{children:"YOUR LINK HAS BEEN SENT"}),Object(c.jsxs)("div",{className:"ResetPasswordSuccess-Container",children:[Object(c.jsx)("img",{className:"ResetPasswordSuccess-Image",alt:"",src:Z,draggable:!1}),Object(c.jsx)("div",{className:"ResetPasswordSuccess-Text",children:"We have sent a password reset email to your address:"}),Object(c.jsx)("div",{className:"ResetPasswordSuccess-Email",children:t}),Object(c.jsx)("div",{className:"ResetPasswordSuccess-SubInfo",children:"If you can\u2019t find the email, please check your junk folder."})]})]})})},xe=function(e){var t=e.goToSignIn,a=Object(l.f)(),s=Object(n.useState)(""),r=Object(p.a)(s,2),i=r[0],o=r[1],u=Object(n.useState)(""),d=Object(p.a)(u,2),j=d[0],m=d[1],b=Object(n.useState)(""),O=Object(p.a)(b,2),g=O[0],h=O[1],v=Object(n.useState)({}),x=Object(p.a)(v,2),f=x[0],N=x[1],C=Object(n.useState)(!1),y=Object(p.a)(C,2),w=y[0],I=y[1];return Object(c.jsx)("div",{className:"CreateAccountComponentWrapper",children:Object(c.jsxs)("div",{className:"CreateAccountComponent Container",children:[Object(c.jsx)(je,{children:"CREATE AN ACCOUNT"}),Object(c.jsxs)("div",{className:"CreateAccountComponent-Container",children:[Object(c.jsxs)("form",{className:"CreateAccountComponent-Form",children:[Object(c.jsx)("div",{className:"CreateAccountComponent-FormInput",children:Object(c.jsx)(me,{label:"Full name",placeholder:"Enter your full name",value:i,onChange:function(e){o(e.target.value)},error:f.fullName,onFocusOut:function(e){var t=W("fullName",e.target.value);N(Object(D.a)(Object(D.a)({},f),{},{fullName:t.message}))}})}),Object(c.jsx)("div",{className:"CreateAccountComponent-FormInput",children:Object(c.jsx)(me,{label:"Email",placeholder:"Enter your email",value:j,onChange:function(e){m(e.target.value)},error:f.email,onFocusOut:function(e){var t=W("email",e.target.value);N(Object(D.a)(Object(D.a)({},f),{},{email:t.message}))}})}),Object(c.jsx)("div",{className:"CreateAccountComponent-FormInput",children:Object(c.jsx)(me,{className:"CreateAccountComponent-FormInput",label:"Password",type:w?"text":"password",placeholder:"Enter your password",labelHint:"(min 6 char)",value:g,onChange:function(e){h(e.target.value)},error:f.password,onFocusOut:function(e){var t=W("password",e.target.value);N(Object(D.a)(Object(D.a)({},f),{},{password:t.message}))},icon:w?V:H,onIconClick:function(){return I(!w)}})})]}),Object(c.jsxs)("div",{className:"CreateAccountComponent-AgreeText",children:["By creating an account you agree to the website",Object(c.jsx)("a",{className:"CreateAccountComponent-AgreeLink",href:"/",children:" terms and conditions "}),"and our",Object(c.jsx)("a",{className:"CreateAccountComponent-AgreeLink",href:"/",children:" privacy notice "}),"."]}),Object(c.jsx)("div",{className:"CreateAccountComponent-LoginButtonWrapper",children:Object(c.jsx)(Oe,{title:"CREATE AN ACCOUNT",onClick:function(){var e=W("fullName",i),t=W("email",j),c=W("password",g);return t.ok&&c.ok?a.push("/"):N({fullName:e.message,email:t.message,password:c.message})}})}),Object(c.jsxs)("div",{className:"CreateAccountComponent-Login",children:[Object(c.jsx)("div",{className:"CreateAccountComponent-LoginTitle",children:"Have an account?"}),Object(c.jsx)("div",{className:"CreateAccountComponent-LoginLink",onClick:t,children:"Login"})]}),Object(c.jsx)("div",{className:"CreateAccountComponent-SocialButtonsWrapper",children:Object(c.jsx)(ge,{})})]})]})})},fe=function(e){var t=e.items,a=e.removeItem,n=e.increaseQuantity,s=e.reduceQuantity,r=e.onSubmit;return Object(c.jsxs)("div",{className:"Cart",children:[Object(c.jsx)("div",{className:"Cart-FullOrder",children:t.map((function(e){var t=e.product,r=e.count;return Object(c.jsx)("div",{className:"Cart-Product",children:Object(c.jsx)(Ne,{product:t,count:r,increaseQuantity:n,reduceQuantity:s,removeItem:a})},t.id)}))}),Object(c.jsxs)("div",{className:"Cart-SummaryOrder",children:[Object(c.jsxs)("div",{className:"Cart-SummaryContainer",children:[Object(c.jsx)("div",{className:"Cart-SummaryTitle",children:"Order Summary"}),Object(c.jsxs)("div",{className:"Cart-SummaryProducts",children:[t.map((function(e){var t=e.product;return Object(c.jsxs)("div",{className:"Cart-SummaryProduct",children:[Object(c.jsx)("div",{className:"Cart-SummaryProductName",children:t.name}),Object(c.jsx)("div",{className:"Cart-SummaryProductPrice",children:G(t.price)})]},t.id)})),Object(c.jsxs)("div",{className:"Cart-SummaryProduct",children:[Object(c.jsx)("div",{className:"Cart-SummaryProductName",children:"Express Delivery"}),Object(c.jsx)("div",{className:"Cart-SummaryProductPrice",children:G(10)})]})]}),Object(c.jsxs)("div",{className:"Cart-SummaryTotalContainer",children:[Object(c.jsx)("span",{className:"Cart-TotalTitle",children:"Estimated Total"}),Object(c.jsx)("span",{className:"Cart-TotalSum",children:G(t.reduce((function(e,t){return e+t.product.price*t.count}),0)+10)})]})]}),Object(c.jsx)("div",{className:"Cart-CheckoutButtonContainer",children:Object(c.jsx)(Oe,{className:"Cart-CheckoutButton",title:"checkout",onClick:r})})]}),Object(c.jsx)(o.c,{className:"Cart-HomeLink",to:"/",children:"Continue shopping"})]})},Ne=function(e){var t=e.product,a=e.count,n=e.removeItem,s=e.increaseQuantity,r=e.reduceQuantity;return Object(c.jsx)("div",{className:"CartItem",children:Object(c.jsxs)("div",{className:"CartItem-Container",children:[Object(c.jsx)("img",{className:"CartItem-Image",draggable:!1,alt:"",src:b+t.image}),Object(c.jsxs)("div",{className:"CartItem-Main",children:[Object(c.jsxs)("div",{className:"CartItem-Info",children:[Object(c.jsx)("div",{className:"CartItem-Category",children:t.category.title}),Object(c.jsx)("div",{className:"CartItem-Name",children:t.name})]}),Object(c.jsxs)("div",{className:"CartItem-QuantitySection",children:[Object(c.jsx)("span",{className:"CartItem-QuantityLabel",children:"Quantity"}),Object(c.jsxs)("div",{className:"CartItem-QuantityManager",children:[Object(c.jsx)("button",{className:"CartItem-ReduceQuantity",disabled:1===a,onClick:function(){return r(t.id)},children:Object(c.jsx)("img",{src:$,alt:"-",draggable:!1})}),Object(c.jsx)("div",{className:"CartItem-Quantity",children:a}),Object(c.jsx)("button",{className:"CartItem-IncreaseQuantity",onClick:function(){return s(t.id)},children:Object(c.jsx)("img",{src:K,alt:"+",draggable:!1})})]})]}),Object(c.jsx)("img",{className:"CartItem-Remove",onClick:function(){return n(t.id)},alt:"x",src:J,draggable:!1}),Object(c.jsx)("div",{className:"CartItem-Price",children:G(t.price*a)})]})]})})},Ce=q,ye=ie,we=function(e){var t=e.options,a=e.onChange,s=Object(n.useState)(!1),r=Object(p.a)(s,2),i=r[0],o=r[1],l=Object(n.useState)(t[0]),u=Object(p.a)(l,2),d=u[0],j=u[1];return Object(c.jsxs)("div",{className:"Dropdown Dropdown-Container",children:[Object(c.jsxs)("div",{className:"Dropdown-Header",onClick:function(){return o(!i)},children:[d.title||t[0].title,Object(c.jsx)("img",{className:"Dropdown-Arrow",draggable:!1,alt:"",src:oe})]}),i&&Object(c.jsx)("div",{className:"Dropdown-ListContainer",children:Object(c.jsx)("ul",{className:"Dropdown-List",children:t.map((function(e){return Object(c.jsxs)("li",{className:"Dropdown-ListItem",onClick:function(){return function(e){j(e),o(!1),a(e.value)}(e)},children:[e.title,e.value===d.value?Object(c.jsx)("img",{alt:"",src:le,draggable:!1}):null]},e.value)}))})})]})},Ie="FETCH_PRODUCTS",Pe="PRODUCTS_FETCHED",Se=function(e){var t=e.count,a=e.products;return{type:Pe,payload:{count:t,products:a}}},ke="LOAD_MORE_PRODUCTS",Le="MORE_PRODUCTS_LOADED",Ee=function(e){var t=e.count,a=e.products;return{type:Le,payload:{count:t,products:a}}},Te=function(){var e=Object(P.a)(I.a.mark((function e(t){var a,c,n,s,r,i,o,l,u,d,j,b,O,p,g,h;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.categoryId,c=t.sortType,n=void 0===c?"newness":c,s=t.skip,r=void 0===s?0:s,i=t.limit,o=void 0===i?12:i,e.prev=1,e.next=4,m.a.get("/products");case 4:l=e.sent,u=l.data.products,e.t0=n,e.next="high-to-low"===e.t0?9:"low-to-high"===e.t0?11:(e.t0,13);break;case 9:return d=u.sort((function(e,t){return t.price-e.price})),e.abrupt("break",15);case 11:return d=u.sort((function(e,t){return e.price-t.price})),e.abrupt("break",15);case 13:return d=u.sort((function(e,t){return new Date(t.timeStamp)-new Date(e.timeStamp)})),e.abrupt("break",15);case 15:return j=d.filter((function(e){return!a||e.categoryId===a})),b=j.slice(r,o+r),e.next=19,m.a.get("/categories");case 19:return O=e.sent,p=O.data.categories,g=b.map((function(e){return Object(D.a)(Object(D.a)({},e),{},{category:p.find((function(t){return t.id===e.categoryId}))})})),h=j.length,e.abrupt("return",{products:g,count:h});case 26:e.prev=26,e.t1=e.catch(1),console.error("Fetch products error:",e.t1);case 29:case"end":return e.stop()}}),e,null,[[1,26]])})));return function(t){return e.apply(this,arguments)}}();a(111);var Ae=Object(l.g)(Object(d.b)((function(e,t){var a=e.categories.list.find((function(e){return e.alias===t.match.params.category}));return{products:e.products.list,hasMore:e.products.hasMore,categoryId:a&&a.id}}),(function(e){return{fetchProducts:function(t){return e(function(e){return function(){var t=Object(P.a)(I.a.mark((function t(a){var c,n,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Ie}),t.next=3,Te(e);case 3:c=t.sent,n=c.count,s=c.products,a(Se({count:n,products:s}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))},loadMoreProducts:function(t){return e(function(e){return function(){var t=Object(P.a)(I.a.mark((function t(a){var c,n,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:ke}),t.next=3,Te(e);case 3:c=t.sent,n=c.count,s=c.products,a(Ee({count:n,products:s}));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=e.products,a=e.fetchProducts,s=e.loadMoreProducts,r=e.categoryId,i=e.hasMore,o=Object(n.useState)("newness"),l=Object(p.a)(o,2),u=l[0],d=l[1];return Object(n.useEffect)((function(){a({categoryId:r})}),[r]),t&&t.length?Object(c.jsxs)("div",{className:"Products Container",children:[Object(c.jsxs)("div",{className:"Products-Sort",children:[Object(c.jsx)("span",{className:"Products-SortTitle",children:"Sort by:"}),Object(c.jsx)(we,{options:[{title:"Newness",value:"newness"},{title:"Price high to low",value:"high-to-low"},{title:"Price low to high",value:"low-to-high"}],onChange:function(e){d(e),a({categoryId:r,sortType:e})}})]}),Object(c.jsx)("div",{className:"Products-ProductGrid",children:t.map((function(e){return Object(c.jsx)(ye,{className:"Products-Product",product:e},e.id)}))}),i?Object(c.jsx)("button",{className:"Products-LoadMore",onClick:function(){var e=t.length;s({categoryId:r,sortType:u,skip:e,limit:4})},children:Object(c.jsx)("b",{children:"Show more"})}):null]}):Object(c.jsx)("div",{children:"There is no products in this category yet"})})));a(112);var Be=Object(d.b)((function(e){return{categories:e.categories.list}}),(function(e){return{fetchCategories:function(){return e(E())}}}))((function(e){e.products,e.fetchProducts;var t=e.categories,a=e.fetchCategories;return Object(n.useEffect)((function(){t.length||a()}),[]),t&&t.length?Object(c.jsxs)("div",{className:"HomePage Container",children:[Object(c.jsx)("section",{className:"CategoriesView",children:Object(c.jsx)("div",{className:"CategoriesView-Container",children:t.map((function(e){return Object(c.jsxs)("div",{className:"CategoriesView-Category",children:[Object(c.jsx)(o.c,{to:"/goods/"+e.alias,className:"CategoriesView-ImageLink",children:Object(c.jsx)("img",{className:"CategoriesView-Image",draggable:!1,alt:"",src:b+e.image})}),Object(c.jsx)("div",{className:"CategoriesView-Title",children:e.title})]},e.id)}))})}),Object(c.jsx)("section",{className:"ProductsView",children:Object(c.jsx)("div",{className:"ProductsView-Wrapper",children:Object(c.jsx)(Ae,{})})})]}):Object(c.jsx)(y,{})})),Re=(a(113),a.p+"static/media/404.f78e40b0.svg");var _e=a.p+"static/media/bulb.cea96dc4.svg",De=a.p+"static/media/bulb_on.ca5f0e52.svg";a(114);var Fe=Object(d.b)((function(e){return{items:Object.values(e.cart.items)}}),(function(e){return{cleanCart:function(){return e({type:ae})},removeItem:function(t){return e(ne(t))},increaseQuantity:function(t){return e(function(e){return{type:se,payload:{productId:e}}}(t))},reduceQuantity:function(t){return e(function(e){return{type:re,payload:{productId:e}}}(t))}}}))((function(e){var t,a=e.items,s=e.removeItem,r=e.increaseQuantity,i=e.reduceQuantity,l=e.cleanCart,u=Object(n.useState)(!1),d=Object(p.a)(u,2),j=d[0],m=d[1],b=Object(n.useState)(null),O=Object(p.a)(b,2),g=O[0],h=O[1];return j?Object(c.jsx)("div",{className:"SuccessOrderWrapper",children:Object(c.jsxs)("div",{className:"SuccessOrder Container",children:[Object(c.jsx)(je,{children:"THANK YOU!"}),Object(c.jsxs)("div",{className:"SuccessOrder-Container",children:[Object(c.jsx)("div",{className:"SuccessOrder-ImageContainer",children:Object(c.jsx)("img",{className:"SuccessOrder-Image",alt:"",src:De})}),Object(c.jsx)("div",{className:"SuccessOrder-Title",children:"Your ordering is completely successful"}),Object(c.jsx)("div",{className:"SuccessOrder-Subtitle",children:"We'll let you know when it ships and it headed your way."}),Object(c.jsxs)("div",{className:"SuccessOrder-OrderInfo",children:[Object(c.jsxs)("div",{className:"SuccessOrder-Info",children:[Object(c.jsx)("span",{children:"Order:"})," ",Object(c.jsx)("span",{className:"SuccessOrder-InfoValue",children:Object(c.jsx)("b",{children:"0844253425"})})]}),Object(c.jsxs)("div",{className:"SuccessOrder-Info",children:[Object(c.jsx)("span",{children:"Date:"})," ",Object(c.jsx)("span",{className:"SuccessOrder-InfoValue",children:Object(c.jsx)("b",{children:(t=g,new Date(t).toLocaleDateString())})})]})]}),Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)(de,{className:"SuccessOrder-Button",title:"continue shopping",onClick:function(){m(!1)}})})]})]})}):a.length?Object(c.jsx)("div",{className:"CartWrapper",children:Object(c.jsxs)("div",{className:"CartContainer Container",children:[Object(c.jsx)(je,{children:"BASKET"}),Object(c.jsx)(fe,{className:"",items:a,removeItem:s,increaseQuantity:r,reduceQuantity:i,onSubmit:function(){h(Date.now()),m(!0),l()}})]})}):Object(c.jsx)("div",{className:"EmptyCartWrapper",children:Object(c.jsxs)("div",{className:"EmptyCart Container",children:[Object(c.jsx)(je,{children:"BASKET"}),Object(c.jsxs)("div",{className:"EmptyCart-Container",children:[Object(c.jsx)("img",{className:"EmptyCart-Image",alt:"",src:_e,draggable:!1}),Object(c.jsx)("div",{className:"EmptyCart-Text",children:"Your basket is empty"}),Object(c.jsx)("div",{className:"EmptyCart-BlackButtonWrapper",children:Object(c.jsx)(Oe,{className:"EmptyCart-BlackButton",title:"start shopping",link:"/"})})]})]})})})),Ue=Be,Me=function(){return Object(c.jsx)("div",{className:"Page404",children:Object(c.jsxs)("div",{className:"Page404-Container Container",children:[Object(c.jsx)("img",{className:"Page404-image404",draggable:!1,alt:"",src:Re}),Object(c.jsx)("div",{className:"Page404-Sorry",children:"Sorry, we can't find this page"}),Object(c.jsx)(o.c,{className:"Page404-HomeButton",to:"/",children:Object(c.jsx)(de,{title:"home page"})})]})})},Qe=function(){var e=Object(n.useState)("sign-in"),t=Object(p.a)(e,2),a=t[0],s=t[1];switch(a){case"sign-up":return Object(c.jsx)(xe,{goToSignIn:function(){return s("sign-in")}});case"sign-in":default:return Object(c.jsx)(pe,{goToSignUp:function(){return s("sign-up")}})}},We=Ae,He=function(){var e=Object(n.useState)(""),t=Object(p.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(!1),i=Object(p.a)(r,2),o=i[0],l=i[1];return Object(c.jsx)("div",{className:"ResetPasswordPage",children:o?Object(c.jsx)(ve,{email:a}):Object(c.jsx)(he,{onSubmit:function(e){s(e),l(!0)}})})},Ve=Fe,ze=a(15),Ye=a(56),Ze=a(39),Ge=a(57),$e=a.n(Ge),Ke={list:[],loading:!1};var Je={list:[],loading:!1,hasMore:!1};var qe=a(25),Xe={items:{}};var et=Object(ze.c)({categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(D.a)(Object(D.a)({},e),{},{loading:!0});case k:return{loading:!1,list:t.payload.categories};default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(D.a)(Object(D.a)({},e),{},{loading:!0,hasMore:!1});case Pe:return{loading:!1,list:t.payload.products,hasMore:t.payload.products.length<t.payload.count};case ke:return Object(D.a)(Object(D.a)({},e),{},{loading:!0,hasMore:!1});case Le:var a=[].concat(Object(O.a)(e.list),Object(O.a)(t.payload.products));return{loading:!1,list:a,hasMore:a.length<t.payload.count};default:return e}},cart:function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case te:return t=(e=a.items[c.payload.product.id])?e.count+1:1,Object(D.a)(Object(D.a)({},a),{},{items:Object(D.a)(Object(D.a)({},a.items),{},Object(qe.a)({},c.payload.product.id,{product:c.payload.product,count:t}))});case ae:return Xe;case ce:var n=a.items;return delete n[c.payload.productId],Object(D.a)(Object(D.a)({},a),{},{items:Object(D.a)({},n)});case se:return t=(e=a.items[c.payload.productId]).count+1,Object(D.a)(Object(D.a)({},a),{},{items:Object(D.a)(Object(D.a)({},a.items),{},Object(qe.a)({},c.payload.productId,Object(D.a)(Object(D.a)({},e),{},{count:t})))});case re:return t=(e=a.items[c.payload.productId]).count>1?e.count-1:0,Object(D.a)(Object(D.a)({},a),{},{items:Object(D.a)(Object(D.a)({},a.items),{},Object(qe.a)({},c.payload.productId,Object(D.a)(Object(D.a)({},e),{},{count:t})))});default:return a}}}),tt=Object(ze.d)(Object(Ze.a)({key:"root",storage:$e.a,whitelist:["cart"]},et),Object(ze.a)(Ye.a)),at=Object(Ze.b)(tt);var ct=function(){return m.a.defaults.baseURL=b,Object(c.jsx)(d.a,{store:tt,children:Object(c.jsx)(u.a,{loading:Object(c.jsx)(be,{}),persistor:at,children:Object(c.jsxs)(o.a,{children:[Object(c.jsx)(ue,{}),Object(c.jsxs)(l.c,{children:[Object(c.jsx)(l.a,{exact:!0,path:"/",component:Ue}),Object(c.jsx)(l.a,{path:"/goods/:category",component:We}),Object(c.jsx)(l.a,{path:"/cart",component:Ve}),Object(c.jsx)(l.a,{path:"/login",component:Qe}),Object(c.jsx)(l.a,{path:"/reset-password",component:He}),Object(c.jsx)(l.a,{path:"/*",component:Me})]})]})})})};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(ct,{})}),document.getElementById("root"))},17:function(e,t,a){},64:function(e,t,a){},85:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[117,1,2]]]);
//# sourceMappingURL=main.26dce7ec.chunk.js.map